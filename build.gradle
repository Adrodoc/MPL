ext.productName = 'MPL'
allprojects {
  version = '0.9'
}

ext {
  libs = [
    antlr4:         'org.antlr:antlr4:4.5',
    antlr4_runtime: 'org.antlr:antlr4-runtime:4.5',
    assertj:        'org.assertj:assertj-core:3.2.0',
    beanfabrics:    'org.beanfabrics:beanfabrics-swing:1.4.0',
    guava:          'com.google.guava:guava:18.0',
    jsr305:         'com.google.code.findbugs:jsr305:1.3.9',
    junit:          'junit:junit:4.12',
    lombok:         'org.projectlombok:lombok:1.16.6',
    nbt:            'com.evilco.mc:nbt:1.0.2',
    pojobuilder:    'net.karneim:pojobuilder:3.4.0',
    spock:          'org.spockframework:spock-core:1.0-groovy-2.4'
  ]
}

apply plugin: 'eclipse'

task wrapper (type: Wrapper) { gradleVersion = 2.13 }

allprojects { Project proj ->
  repositories {
    mavenCentral()
    maven { url "http://basket.cindyscats.com/content/repositories/releases" }
  }

  tasks.withType(JavaCompile) { options.encoding = 'UTF-8' }

  tasks.withType(Test) {
    beforeTest { TestDescriptor descriptor ->
      logger.lifecycle('Running test: ' + descriptor.name + '(' + descriptor.className + ')')
    }
  }

  pluginManager.withPlugin('eclipse') {
    tasks.eclipse.dependsOn cleanEclipse
    if (proj != rootProject) {
      eclipse.project.name = rootProject.name + '-' + proj.name
    }
  }
}
